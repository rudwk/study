<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>동적 채팅 서비스</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="chat-container">
    <div class="chat-box" id="chat-box">
        <!-- 채팅 메시지가 여기에 동적으로 추가됩니다. -->

        
    </div>
    <div class="chat-input">
        <input type="text" id="user-message" placeholder="메시지를 입력하세요..." autocomplete="off">
        <button onclick="sendMessage()">전송</button>
    </div>
</div>

<script>
    const chatBox = document.getElementById('chat-box');

    async function sendMessage() {
        const message = document.getElementById('user-message').value;
        if(message.trim() == '') return;

        const tmp = document.createElement('p');
        tmp.textContent = message;
        chatBox.appendChild(tmp);

        const res = await fetch('/', {
            method: 'POST',
            headers: {"Content-Type": "application/json"},
            body: {
                user: id
            }
        });

        document.getElementById('user-message').value = '';
    }
</script>
</body>
</html>