<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>로그인 폼</title>
</head>
<body>
    <h2>로그인</h2>
    <form action="#" method="post">
        <label for="username">아이디:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">비밀번호:</label>
        <input type="password" id="password" name="password" required><br><br>

        <button type="button" onclick="signUp()">가입하기</button><br><br>

        <label for="username">아이디:</label>
        <input type="text" id="check_id"><br><br>

        <label for="password">비밀번호:</label>
        <input type="password" id="check_pw"><br><br>
        
        <!-- 아래 로그인 버튼이 자꾸 submit됨 해결해야하는데일단서버쪽은문제가없으니이대로넘어가도록하겠습니다 -->
        <button type="button" onclick="signIn()">로그인하기</button><br><br>
    </form>

    <script>
        async function signUp() {
            const id = document.getElementById("username").value;
            const pw = document.getElementById("password").value;

            if(!id||!pw) {
                alert("아이디와 비밀번호를 입력하여 주십시오");
                return;
            }

            const res = await fetch("/signup", {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                body: JSON.stringify({id, pw})
            });

            const res_json = await res.json();

            alert(`${res.status}: ${res_json.message}`);
        }

        async function signIn() {
            alert('check tlqkf');
            // const id = document.getElementById('check_id').value;
            // const pw = document.getElementById('check_pw').value;

            // if(!id||!pw) console.log('no check id or password'); return;

            // const res = await fetch("/signin", {
            //     method: "POST",
            //     headers: {"Content-Type": "application/json"},
            //     body: JSON.stringify({id, pw})
            // });

            // const res_json = await res.json();
            // console.log(`${res.status}: ${res_json.message}`);
        }
    </script>
</body>
</html>
